# Класс `deque` модуля [collections](_collections%20-%20модуль.md)
#deque #dict #очередь
***
Класс `collections.deque()` это обобщение стеков и очередей и представляет собой двустороннюю очередь. Двусторонняя очередь `deque()` поддерживает поточно-ориентированные, эффективные по памяти операции добавления и извлечения элементов последовательности с любой стороны с примерно одинаковой производительностью `O(1)` в любом направлении.
Поддерживает методы [list()](../../../Встроенные%20возможности%20Python/list/_list%20-%20тип%20данных.md)

Списки `list` поддерживают аналогичные операции, но они оптимизированs только для быстрых операций с последовательностями фиксированной длины и требуют затрат `O(n)` на перемещение памяти для операций `pop(0)` и `insert(0, v)`, которые изменяют как размер, так и положение базового представления данных.

#### Синтаксис:

```python
import collections
dq = collections.deque([iterable[, maxlen]])
```

#### Параметры:

-   `iterable` - итерируемая последовательность,
-   `maxlen` - не обязательный параметр `int`, максимальное кол-во хранимых записей. При добавлении новых элементов, когда заполнение очереди `deque()` становится больше значения `maxlen`, избыточное количество элементов удаляется/сбрасывается с противоположного конца.

## Методы и атрибуты класса `deque`
Больше методов в классе [list](../../../Встроенные%20возможности%20Python/list/_list%20-%20тип%20данных.md)
***
- **[appendleft()](#appendleft)** - добавление значения в начало
- **[extendleft(iterable)](#extendleft%20iterable)** - расширение списка с начала значениями обратной последовательности `iterable` 
- **[insert(i, x)](#insert%20i%20x)** - добавление значения `x` в позицию `i`
- **[popleft()](#popleft)** - получить элемент с начала списка
- **[rotate(n)](#rotate%20n%201)** - прокрутить список на `n` позиций
- **[maxlen](#maxlen)** - свойство, заданное переметром `maxlen`

### `appendleft(x)`:
добавление значения в начало контейнера `deque`. Для добавления в конец используется `append()` наследуемого от класса [list](../../../Встроенные%20возможности%20Python/list/_list%20-%20тип%20данных.md)

### `extendleft(iterable)`:
расширение контейнера `deque` с левой стороны (с начала). При расширении значения параметра `iterable` меняют порядок на обратный
Для расширения с конца используется `extend()` наследуемого от класса [list](../../../Встроенные%20возможности%20Python/list/_list%20-%20тип%20данных.md)
```python
dq.extendleft('ab')
print(dq)
# deque(['b', 'a', 'f', 'g', 'h', 'i', 'j', 'g', 'j', 'k', 'l'])
```

### `insert(i, x)`:

Метод `Deque.insert()` вставляет значение аргумента `x` в позицию `i` контейнера `deque()`.

Если вставка значение аргумента `x` приведет к тому, что ограниченный контейнер `deque()` выйдет за пределы `maxlen`, будет вызвано исключение `IndexError`.

### `popleft()`:

Метод `Deque.popleft()` удаляет и возвращает элемент с левой стороны (с начала) контейнера `deque()`. Если элементы отсутствуют, возникает ошибка `IndexError`. Получить и удалить элемент в правой стороны можно с помощью метода `pop()` наследуемого от класса [list](../../../Встроенные%20возможности%20Python/list/_list%20-%20тип%20данных.md)

### `rotate(n=1)`:

Метод `Deque.rotate()` разворачивает контейнер `deque()` на `n` шагов вправо. Если аргумент `n` имеет отрицательное значение, то разворачивает контейнер налево.

Когда контейнер не пуст, вращение на один шаг вправо эквивалентно `dq.appendleft(d.pop())`, а вращение на один шаг влево эквивалентно `dq.append(d.popleft())`.

```python
# deque(['k', 'j', 'g', 'j', 'i', 'h', 'f', 'c', 'a'])
dq.rotate(2)
print(dq)
# deque(['c', 'a', 'k', 'j', 'g', 'j', 'i', 'h', 'f'])
dq.rotate(-4)
print(dq)
# deque(['g', 'j', 'i', 'h', 'f', 'c', 'a', 'k', 'j'])
```

### `maxlen`:

Атрибут `Deque.maxlen()` возвращает максимальный размер `maxlen` контейнера `deque()`, если параметр `maxlen` не задан, то возвращает `None`.

