
# Форматирование строк

- **[Форматирование строк “По старинке” (оператор %)](#Форматирование%20строк%20“По%20старинке”%20(оператор%20%))**
- **[Форматирование методом `str.format()`](#Форматирование%20методом%20`str.format()`)**
- 


## Форматирование строк “По старинке” (оператор %)
---
```python
name = 'Bob'
print('Hello, %s' % name)
# Вывод: "Hello, Bob"
```

Несколько значений заключаются в кортеж
```python
errno = 50159747054
name = 'Bob'
print('Hey %s, there is a 0x%x error!' % (name, errno))
# 'Hey Bob, there is a 0xbadc0ffee error!'
```

Обращение по ключю словаря
```python
print(
    'Hey %(name)s, there is a 0x%(errno)x error!' % {
        "name": 'Bob', "errno": 50159747054}
)
# Вывод: 'Hey Bob, there is a 0xbadc0ffee error!'
```

```python
print(
	  '%f, &.2f, %+.*f*' % (1/3.0, 1/3.0, 4, 1/3.0)
)
# 0.333333, 0.33, +0.3333
```

Спецификатор преобразования содержит два или более символов и содержит следующие компоненты, которые должны выполняться в следующем порядке:
```
%[(Имя_ключа)][признаки][ширина][.точность]код_типа
```

1.  Символ `%`, который отмечает начало спецификатора.
2.  Ключ сопоставления (необязательно), состоящий из заключенной в скобки последовательности символов, например, (somename).
3.  Флаги преобразования (необязательно), которые влияют на результат некоторых типов преобразования.
4.  Минимальная ширина поля (необязательно). Если указано как `'*'`- звездочка, фактическая ширина считывается из следующего элемента кортежа в значениях и объект для преобразования следует после минимальной ширины поля и необязательной точности.
5.  Точность (необязательно), задается как `'.'` - точка, за которой следует точность. Если указано как `'*'` - звездочка, фактическая точность считывается из следующего элемента кортежа в значениях, а значение для преобразования следует после точности.
6.  Модификатор длины (необязательно).
7.  Тип конверсии.

**Символами флагов преобразований являются**:

-   `'#'` - Преобразование значения будет использовать "альтернативную форму"
-   `'0'` - Преобразование будет дополнено нулями для числовых значений.
-   `'-'` - Преобразованное значение корректируется слева, отменяет `'0'` преобразование, если заданы оба.
-   `' '` - пробел. Пробел должен быть оставлен перед положительным числом или пустой строкой, полученным в результате преобразования со знаком.
-   `'+'` - Знак, `'+'` или `'-'`, будет предшествовать преобразованию. Заменяет флаг "пробел".

**Типы конверсии**:

-   `'d'` - Десятичное число со знаком
-   `'i'` - Десятичное число со знаком
-   `'o'` - Восьмеричное значение со знаком. Вызывает вставку восьмеричного спецификатора `'0o'` перед первой цифрой.
-   `'u'` - Устаревший тип - он идентичен `'d'`.
-   `'x', 'X'` - Шестнадцатеричный формат. Перед первой цифрой вставляется начальная буква `'0x'` или `'0X'`
-   `'e', 'E'` - Экспоненциальный формат с плавающей запятой.
-   `'f', 'F'` - Десятичный формат с плавающей точкой. Cодержит десятичную точку, даже если за ней нет цифр.
-   `'g', 'G'` - Формат с плавающей точкой. Использует экспоненциальный формат в нижнем регистре, если показатель степени меньше `-4`, в противном случае используется десятичный формат. Всегда содержит десятичную точку, а завершающие нули не удаляются.
-   `'c'` - Один символ. Принимает целое число или одну строку символов.
-   `'r'` - Строка. Преобразует любой объект Python, используя встроенную функцию [`repr()`](https://docs-python.ru/tutorial/vstroennye-funktsii-interpretatora-python/funktsija-repr/ "Функция repr() в Python, описание объекта."). Если точность равна `N`, вывод усекается до `N` символов.
-   `'s'` - Строка. Преобразует любой объект Python, используя встроенную класс [`str()`](https://docs-python.ru/tutorial/vstroennye-funktsii-interpretatora-python/klass-str/ "Класс str() в Python, преобразует объект в строку.").
-   `'a'` - Строка. Преобразует любой объект Python, используя встроенную функцию [`ascii()`](https://docs-python.ru/tutorial/vstroennye-funktsii-interpretatora-python/funktsija-ascii/ "Функция ascii() в Python, преобразует строку в ASCII.").
-   `'%'` - Никакой аргумент не преобразуется, в результате получается символ `'%'`.
<br><br>
## Форматирование методом `str.format()`
---
```python
print('We are the {} who say "{}!"'.format('knights', 'Ni'))
# We are the knights who say "Ni!"

>>> yes_votes = 42_572_654
>>> no_votes = 43_132_495
>>> percentage = yes_votes / (yes_votes + no_votes)
>>> '{:-9} YES votes  {:2.2%}'.format(yes_votes, percentage)
# ' 42572654 YES votes  49.67%'
```

```python
>>> print('{0} and {1}'.format('spam', 'eggs'))
# spam and eggs

>>> print('{1} and {0}'.format('spam', 'eggs'))
# eggs and spam
```

