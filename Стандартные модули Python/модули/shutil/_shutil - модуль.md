# Модуль `shutil`
#shutil #файлы 
***
## Копирование, удаление и архивирования файлов и директорий.

Модуль `shutil` предлагает ряд высокоуровневых операций над файлами и коллекциями файлов. В частности, предусмотрены функции, которые поддерживают **копирование и удаление файлов**. Для операций над отдельными файлами, смотрите [модуль `os`](https://docs-python.ru/standart-library/modul-os-python/ "Модуль os в Python, доступ к функциям ОС.").

> **Предупреждение**.  
> Даже функции копирования файлов более высокого уровня `shutil.copy()`, `shutil.copy2()` не могут копировать все метаданные файла.

-   На платформах POSIX это означает, что владелец файла и группа будут потеряны, а также `ACL`.
-   В Mac OS ветвь ресурса и другие метаданные не используются. Это означает, что ресурсы будут потеряны, а тип файла и коды создателей будут неправильными.
-   В Windows владельцы файлов, списки ACL и альтернативные потоки данных не копируются.

Начиная с Python-3.8 все функции, включающие в себя функцию копирования файлов `shutil.copyfile()`, `shutil.copy()`, `shutil.copy2()`, `shutil.copytree()` и `shutil.move()`, могут использовать системные вызовы `fast-copy` для конкретной платформы, чтобы копировать файл более Эффективно. "Быстрое копирование" означает, что операция копирования происходит внутри ядра, избегая использования буферов пространства пользователя в Python.

Если операция быстрого копирования завершится неудачно и данные в файл назначения не будут записаны, модуль `shutil` автоматически откажется от использования менее эффективной функции `copyfileobj()`.

## `copyfile()`
Копирует содержимое источника в место назначения и вызывает [исключение `IOError`](https://docs-python.ru/tutorial/vstroennye-iskljuchenija-interpretator-python/oshibki-operatsionnoj-sistemy-oserror/ "Исключения операционной системы: OSError в Python."), если у него нет разрешения на запись в файл назначения.

```python
import shutil, os
from glob import glob
# создадим временную директорию 
os.mkdir('example')
# создадим тестовый файл
open('example/test_file.txt', 'w').close()
# копирование
shutil.copyfile('example/test_file.txt', 'example/test_file.txt.copy')
# 'example/test-file.txt.copy'

# смотрим результат
pprint.pprint(glob('example/*'))
# ['example/test_file.txt.copy', 'example/test_file.txt']

# удаляем
shutil.rmtree('example')
```

